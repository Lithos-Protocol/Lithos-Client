"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[120],{22157:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"startup/testnet-node","title":"Setting Up an Ergo Testnet Node for Lithos","description":"Lithos requires a fully synced Ergo Testnet node with mining enabled.","source":"@site/docs/startup/testnet-node.md","sourceDirName":"startup","slug":"/startup/testnet-node","permalink":"/assets/docs/startup/testnet-node","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"startup","permalink":"/assets/docs/tags/startup"}],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"tags":["startup"]},"sidebar":"startUpSidebar","previous":{"title":"Startup Guide","permalink":"/assets/docs/startup-intro"},"next":{"title":"Congratulations!","permalink":"/assets/docs/startup/congratulations"}}');var i=t(74848),s=t(28453);const l={sidebar_position:7,tags:["startup"]},o="Setting Up an Ergo Testnet Node for Lithos",d={},a=[{value:"1. Overview",id:"1-overview",level:2},{value:"2. Download the Ergo Testnet Node",id:"2-download-the-ergo-testnet-node",level:2},{value:"Option A: Prebuilt Testnet Node JAR",id:"option-a-prebuilt-testnet-node-jar",level:3},{value:"Option B: Build From Source (Pull Request 2252)",id:"option-b-build-from-source-pull-request-2252",level:3},{value:"https://github.com/ergoplatform/ergo/pull/2252",id:"httpsgithubcomergoplatformergopull2252",level:2},{value:"3. Create the Node Directory",id:"3-create-the-node-directory",level:2},{value:"Windows Example",id:"windows-example",level:3},{value:"Linux Example",id:"linux-example",level:3},{value:"4. Create the Configuration File (<code>ergo.conf</code>)",id:"4-create-the-configuration-file-ergoconf",level:2},{value:"Changing Your Ergo Node API Key Through the Node\u2019s Swagger Interface",id:"changing-your-ergo-node-api-key-through-the-nodes-swagger-interface",level:3},{value:"5. Running the Ergo Testnet Node",id:"5-running-the-ergo-testnet-node",level:2},{value:"Windows Instructions",id:"windows-instructions",level:3},{value:"Linux Instructions",id:"linux-instructions",level:3},{value:"6. Accessing the Node Panel and Swagger",id:"6-accessing-the-node-panel-and-swagger",level:2},{value:"Node Panel (Web UI)",id:"node-panel-web-ui",level:3},{value:"Swagger API Explorer",id:"swagger-api-explorer",level:3},{value:"7. Creating a Wallet Using the Panel (Recommended)",id:"7-creating-a-wallet-using-the-panel-recommended",level:2},{value:"Steps:",id:"steps",level:3},{value:"Windows",id:"windows",level:3},{value:"Linux",id:"linux",level:3},{value:"8. Creating a Wallet Using Swagger (Alternative Method)",id:"8-creating-a-wallet-using-swagger-alternative-method",level:2},{value:"9. Testing Node REST API",id:"9-testing-node-rest-api",level:2},{value:"Windows",id:"windows-1",level:3},{value:"Linux",id:"linux-1",level:3},{value:"10. Node Setup Complete",id:"10-node-setup-complete",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"setting-up-an-ergo-testnet-node-for-lithos",children:"Setting Up an Ergo Testnet Node for Lithos"})}),"\n",(0,i.jsxs)(n.p,{children:["Lithos requires a fully synced Ergo Testnet node with mining enabled.",(0,i.jsx)(n.br,{}),"\n","This document explains how to install, configure, and run the node on both Windows and Linux."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-overview",children:"1. Overview"}),"\n",(0,i.jsx)(n.p,{children:"Lithos relies on your local Ergo Testnet node to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Sync the blockchain"}),"\n",(0,i.jsx)(n.li,{children:"Sign transactions using the node wallet keystore"}),"\n",(0,i.jsx)(n.li,{children:"Provide block and superShare data for rollup evaluation"}),"\n",(0,i.jsx)(n.li,{children:"Expose a REST API Lithos communicates with"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The node must be running and fully synced before Lithos can operate."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-download-the-ergo-testnet-node",children:"2. Download the Ergo Testnet Node"}),"\n",(0,i.jsx)(n.p,{children:"You may either download the latest prebuilt Testnet node JAR or build it from the required pull request branch."}),"\n",(0,i.jsx)(n.h3,{id:"option-a-prebuilt-testnet-node-jar",children:"Option A: Prebuilt Testnet Node JAR"}),"\n",(0,i.jsx)(n.p,{children:"The latest Testnet-enabled node build is provided here:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://t.me/ErgoDevelopers/36855",children:"https://t.me/ErgoDevelopers/36855"})}),"\n",(0,i.jsx)(n.p,{children:"Download the JAR file from the message contents and place it in your node directory."}),"\n",(0,i.jsx)(n.h3,{id:"option-b-build-from-source-pull-request-2252",children:"Option B: Build From Source (Pull Request 2252)"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"httpsgithubcomergoplatformergopull2252",children:(0,i.jsx)(n.a,{href:"https://github.com/ergoplatform/ergo/pull/2252",children:"https://github.com/ergoplatform/ergo/pull/2252"})}),"\n",(0,i.jsx)(n.h2,{id:"3-create-the-node-directory",children:"3. Create the Node Directory"}),"\n",(0,i.jsx)(n.p,{children:"Choose a directory for the node files."}),"\n",(0,i.jsx)(n.h3,{id:"windows-example",children:"Windows Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"C:\\ergo-testnet\\\n"})}),"\n",(0,i.jsx)(n.h3,{id:"linux-example",children:"Linux Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/opt/ergo-testnet/\n"})}),"\n",(0,i.jsx)(n.p,{children:"Place the node JAR inside this folder and create a configuration file named:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ergo.conf\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"4-create-the-configuration-file-ergoconf",children:["4. Create the Configuration File (",(0,i.jsx)(n.code,{children:"ergo.conf"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Inside the node directory, create ",(0,i.jsx)(n.code,{children:"ergo.conf"})," with the following contents:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="ergo.conf" ',children:'ergo { \r\n  networkType = "testnet"\r\n  node {\r\n    useExternalMiner = true\r\n    offlineGeneration = false\r\n    mining = true\r\n    extraIndex = true\r\n  }\r\n}\r\n\r\nscorex {\r\n  restApi {\r\n    # Hash of API key "hello" as default.  Details on how to change below\r\n    apiKeyHash = "324dcf027dd4a30a932c441f365a25e86b173defa4b8e58948253471b81b72cf"\r\n  }\r\n  network {\r\n    knownPeers = [\r\n      "128.253.41.110:9020",\r\n      "213.239.193.208:9023"\r\n    ]\r\n    nodeName = "lithos-testnet-node"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"The REST API key for this configuration is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"hello\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Take Care",type:"danger",children:(0,i.jsxs)(n.p,{children:["It is ",(0,i.jsx)(n.em,{children:"highly"})," reccommended that you change this key to some other value which you keep as a secret.\r\nThis key must later be provided to Lithos."]})}),"\n",(0,i.jsx)(n.h3,{id:"changing-your-ergo-node-api-key-through-the-nodes-swagger-interface",children:"Changing Your Ergo Node API Key Through the Node\u2019s Swagger Interface"}),"\n",(0,i.jsxs)(n.p,{children:["To update the API key used by your Ergo node, you can do it directly from the node\u2019s built-in Swagger panel at ",(0,i.jsx)(n.a,{href:"http://127.0.0.1:9052/swagger",children:"http://127.0.0.1:9052/swagger"}),". In the /utils section of the API, look for the endpoint POST /utils/hash/blake2b. This call allows you to set a brand-new API key without restarting the node. Simply open the endpoint, enter your desired new key into the request body, and execute the call. You must update your node configuration with this API key and restart the node.  Be sure to update any external services (Lithos Client, bots, dashboards, miners, etc.) that connect to your node, as they will need to use this new API key going forward."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-running-the-ergo-testnet-node",children:"5. Running the Ergo Testnet Node"}),"\n",(0,i.jsx)(n.h3,{id:"windows-instructions",children:"Windows Instructions"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Verify Java 11 is installed:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"java -version\n"})}),"\n",(0,i.jsx)(n.p,{children:"If the version is not 11, install a JDK 11 distribution such as Temurin or Zulu."}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Start the node:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"cd C:\\ergo-testnet\r\njava -jar ergo-testnet.jar --testnet -c ergo.conf\n"})}),"\n",(0,i.jsx)(n.p,{children:"Adjust the JAR filename if necessary."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"linux-instructions",children:"Linux Instructions"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Install Java 11:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt update\r\nsudo apt install openjdk-11-jdk -y\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Start the node:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd /opt/ergo-testnet\r\njava -jar ./ergo-testnet.jar --testnet -c ergo.conf\n"})}),"\n",(0,i.jsx)(n.p,{children:"Example with testnet jar (For easy copy / pasta)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd /opt/ergo-testnet\r\njava -jar ergo-6.0.1-1-91aa8056-SNAPSHOT.jar --testnet -c ergo.conf\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-accessing-the-node-panel-and-swagger",children:"6. Accessing the Node Panel and Swagger"}),"\n",(0,i.jsx)(n.p,{children:"Once the node is running, you can access:"}),"\n",(0,i.jsx)(n.h3,{id:"node-panel-web-ui",children:"Node Panel (Web UI)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://127.0.0.1:9052/panel\n"})}),"\n",(0,i.jsx)(n.h3,{id:"swagger-api-explorer",children:"Swagger API Explorer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://127.0.0.1:9052/swagger\n"})}),"\n",(0,i.jsx)(n.p,{children:"The node panel provides:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Sync status"}),"\n",(0,i.jsx)(n.li,{children:"Peers"}),"\n",(0,i.jsx)(n.li,{children:"Wallet status"}),"\n",(0,i.jsx)(n.li,{children:"Blockchain info"}),"\n",(0,i.jsx)(n.li,{children:"Mining info"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Swagger provides:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Full API documentation"}),"\n",(0,i.jsx)(n.li,{children:"Wallet endpoints"}),"\n",(0,i.jsx)(n.li,{children:"Explorer endpoints"}),"\n",(0,i.jsx)(n.li,{children:"Node control endpoints"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Both will work only while the node is running."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"7-creating-a-wallet-using-the-panel-recommended",children:"7. Creating a Wallet Using the Panel (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"The easiest way to create a Testnet wallet is through the node\u2019s built-in Panel UI."}),"\n",(0,i.jsx)(n.h3,{id:"steps",children:"Steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open: ",(0,i.jsx)(n.code,{children:"http://127.0.0.1:9052/panel"})]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the ",(0,i.jsx)(n.strong,{children:"Wallet"})," tab."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create Wallet"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Set your wallet password."}),"\n",(0,i.jsx)(n.li,{children:"Save your mnemonic (testnet only)."}),"\n",(0,i.jsx)(n.li,{children:"A keystore file will be generated automatically."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The keystore file will be stored here:"}),"\n",(0,i.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"C:\\ergo-testnet\\data\\wallet\\keystore\\keyfile.json\n"})}),"\n",(0,i.jsx)(n.h3,{id:"linux",children:"Linux"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/opt/ergo-testnet/data/wallet/keystore/keyfile.json\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"8-creating-a-wallet-using-swagger-alternative-method",children:"8. Creating a Wallet Using Swagger (Alternative Method)"}),"\n",(0,i.jsx)(n.p,{children:"If you prefer to use the REST API directly, you may initialize the wallet via Swagger."}),"\n",(0,i.jsx)(n.p,{children:"Open Swagger:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://127.0.0.1:9053/swagger\n"})}),"\n",(0,i.jsx)(n.p,{children:"Navigate to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/wallet/init\n"})}),"\n",(0,i.jsx)(n.p,{children:"Enter:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api_key"}),": ",(0,i.jsx)(n.code,{children:"hello"})]}),"\n",(0,i.jsx)(n.li,{children:"JSON body for password creation"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This produces the same keystore file as the Panel method."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"9-testing-node-rest-api",children:"9. Testing Node REST API"}),"\n",(0,i.jsx)(n.p,{children:"Whether or not you created your wallet through the panel, verify the node API is working."}),"\n",(0,i.jsx)(n.h3,{id:"windows-1",children:"Windows"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"curl http://127.0.0.1:9053/info\n"})}),"\n",(0,i.jsx)(n.h3,{id:"linux-1",children:"Linux"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl http://127.0.0.1:9053/info\n"})}),"\n",(0,i.jsx)(n.p,{children:"Expected output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "fullHeight": 123456,\r\n  "isMining": true,\r\n  "headersHeight": 123456\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"If the response is valid, your node is configured correctly."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"10-node-setup-complete",children:"10. Node Setup Complete"}),"\n",(0,i.jsx)(n.p,{children:"Your Ergo Testnet node is now:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Installed"}),"\n",(0,i.jsx)(n.li,{children:"Configured"}),"\n",(0,i.jsx)(n.li,{children:"Running"}),"\n",(0,i.jsx)(n.li,{children:"Synced"}),"\n",(0,i.jsx)(n.li,{children:"Wallet created (via Panel or Swagger)"}),"\n",(0,i.jsx)(n.li,{children:"Accepting REST API calls"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Lithos can now be configured and started using this node."})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var r=t(96540);const i={},s=r.createContext(i);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);